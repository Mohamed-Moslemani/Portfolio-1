import{r as i,j as F}from"./index-B8KWXY91.js";function I(){const g=i.useRef(null),a=i.useRef([]),c=i.useRef(null),y=i.useRef(0),v=i.useRef(!0);return i.useEffect(()=>{const o=g.current;if(!o)return;const e=o.getContext("2d");let r=o.clientWidth,n=o.clientHeight;const s=Math.min(window.devicePixelRatio||1,2),h=Math.max(r,n)*.18,S=h*h;let l=null;const E=window.matchMedia("(prefers-reduced-motion: reduce)").matches,f=()=>{r=o.clientWidth,n=o.clientHeight,o.width=Math.floor(r*s),o.height=Math.floor(n*s),e.setTransform(s,0,0,s,0,0),l=e.createRadialGradient(r/2,n/2,0,r/2,n/2,Math.max(r,n)/1.3),l.addColorStop(0,"rgba(59, 130, 246, 0.02)"),l.addColorStop(1,"rgba(30, 58, 138, 0.04)")},P=()=>{a.current=Array.from({length:28},()=>({x:Math.random()*r,y:Math.random()*n,r:Math.random()*1.35+.65,brightness:Math.random()*.35+.55,vx:(Math.random()-.5)*.08,vy:(Math.random()-.5)*.08}))},b=()=>{e.clearRect(0,0,r,n),e.fillStyle=l,e.fillRect(0,0,r,n);for(let t=0;t<a.current.length;t++){const d=a.current[t];for(let x=t+1;x<a.current.length;x++){const u=a.current[x],R=u.x-d.x,p=u.y-d.y,w=R*R+p*p;if(w<S){const A=(1-Math.sqrt(w)/h)*.12;e.strokeStyle=`rgba(147, 197, 253, ${A})`,e.lineWidth=.45,e.beginPath(),e.moveTo(d.x,d.y),e.lineTo(u.x,u.y),e.stroke()}}}a.current.forEach(t=>{e.fillStyle=`rgba(219, 234, 254, ${t.brightness})`,e.beginPath(),e.arc(t.x,t.y,t.r,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${t.brightness*.55})`,e.beginPath(),e.arc(t.x,t.y,t.r*.4,0,Math.PI*2),e.fill()})},q=()=>{a.current.forEach(t=>{t.x+=t.vx,t.y+=t.vy,(t.x<0||t.x>r)&&(t.vx*=-1),(t.y<0||t.y>n)&&(t.vy*=-1)})},m=t=>{if(!v.current||E){c.current=requestAnimationFrame(m);return}t-y.current>32&&(q(),b(),y.current=t),c.current=requestAnimationFrame(m)},M=new IntersectionObserver(([t])=>{v.current=t.isIntersecting},{threshold:.1});return f(),P(),b(),M.observe(o),window.addEventListener("resize",f),c.current=requestAnimationFrame(m),()=>{window.removeEventListener("resize",f),M.disconnect(),cancelAnimationFrame(c.current)}},[]),F.jsx("canvas",{ref:g,className:"constellation-graph","aria-hidden":"true"})}export{I as default};
